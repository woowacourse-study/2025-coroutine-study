# 코루틴의 이해

## 서브루틴과 코루틴

### 서브루틴

- 함수의 하위에서 실행되는 함수

```kotlin
fun routine() {
    routineA()
    routineB()
}

fun routineA() {
}

fun routineB() {
}
```

다음과 같이 routineA와 routineB가 routine의 서브루틴이 되는 것이다.

> 서브루틴이 실행이 완료될 때까지 다른 작업을 할 수 없다

### 코루틴

- 서브루틴과 다르게 코루틴은 서로(co) 간에 스레드 양보를 하게 된다.

> ‼️ Thread.sleep() 을 사용하게 되면 서브루틴과 똑같이 작동한다

## 스레드 양보 메서드들

- delay, join, await, yield

### delay

- 코루틴이 delay 함수를 호출한다면 코루틴은 사용하던 스레드를 양보하고 설정된 시간 동안 코루틴을 일시 중단 시킨다.

> 만약 Thread.sleep() 를 사용한다면 양보가 일어지지 않고 스레드를 계속 잡아먹는다.

### join과 await

- joint과 await가 호출되면 호출부의 코루틴은 스레드를 양보하고 join과 await의 대상이 된 코루틴이 실행완료될 때까지 재개되지 않는다.

### yield

- 우리가 양보를 위하여 delay()를 거는 거 대신 명시적으로 양보할 수 있게 해주는 메서드이다.
